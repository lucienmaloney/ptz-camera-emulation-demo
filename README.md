# PTZ Camera Emulation Demo
A demo of a possible RTSP ONVIF PTZ camera emulator solution as designed by our UTD SE 4485 team in order to meet the requirements of Forcepoint

## Building
This project uses `make` and `g++` as its build system. Building the two executable files requires simply calling `make` or `make all`. The dependencies for the project are GStreamer and the GStreamer plugin `gst-rtsp-server`, as well as all of the subdependencies/plugins to support these two.

## Usage
This demo has two parts: the RTSP server and RTSP client. The server can be called using `./build/ptz-demo-server.out` to start running it or `./build/ptz-demo-server.out -h` for a list and description of the flags. Starting the server successfully will produce a message of the format `Demo server running at rtsp://127.0.0.1:8554`.

The client executable is located at `./build/ptz-demo-client.out` and requires being passed the RTSP url generated by the server (eg. from the above message, the command would be `./build/ptz-demo-client.out rtsp://127.0.0.1:8854`. Additional flags and options can be explored similarly by passing the `-h` or `--help` command. Running the client will open a video stream and also start a subprompt with additional commands to be entered that allow for PTZ functionality. Typing `help` will list these commands, which are described below:

### Commands

For the below commands, pan (p) and tilt (t) are in degree units, while zoom (z) starts at zoom level 1 and varies from there.

`pause`: Pause playback
`play`: Resume playback
`absoluteMove: p,t,z`: Set the absolute PTZ position eg. `absoluteMove: 5,-2.5,1.25`
`relativeMove: p,t,z`: Set the relative PTZ position eg. `relativeMove: 2.5,0,-0.25`
`goToHome`: Update the PTZ position to its home
`setHome: p,t,z`: Set a new PTZ home position eg. `setHome: 0,0,1.5`
`p: x`: Set the absolute pan position eg. `p: 2.5`
`t: x`: Set the absolute tilt position eg. `t: -12.5`
`z: x`: Set the absolute zoom position eg. `z: 2`
